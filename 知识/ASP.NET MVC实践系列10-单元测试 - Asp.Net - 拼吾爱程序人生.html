<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0041)http://www.pin5i.com/showtopic-26137.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生</title>
<meta name="generator" content="pin5i.com">
<meta name="author" content="pin5i.com">
<meta name="copyright" content="2007-2014 pin5i.com">
<meta http-equiv="x-ua-compatible" content="ie=7">
<link rel="icon" href="http://www.pin5i.com/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="http://www.pin5i.com/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/dnt.css" type="text/css" media="all">
<link rel="stylesheet" href="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/float.css" type="text/css">

<script src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/hm.js"></script><script type="text/javascript" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/common.js"></script>
<script type="text/javascript">
	var aspxrewrite = 1;
	var IMGDIR = '/templates/default/images'
    var allowfloatwin = 1
	var rooturl="http://www.pin5i.com/";
</script>

<script type="text/javascript">var Allowhtml=1;
var Allowsmilies=1;
var Allowbbcode=0;
var Allowimgcode=1;
</script>
<meta name="keywords" content="系列,MVC,Asp.Net,ASP.NET MVC实践系列10-单元测试">
<meta name="description" content="ASP.NET MVC实践系列10-单元测试的内容摘要：上一篇：ASP.NET MVC实践系列9-filter原理与实践最早接触单元测试是看了极限编程相关资料里边讲的测试驱动开发，然后下载了Nunit研究了一下，但并没产生多大的触动，因为那个时候做的都是些">
<meta name="baidu-site-verification" content="wDTxF2x2ujS6PsKL">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?d5e682d1edd7aa6a89ec9a524c437873";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<style id="stylish-1" class="stylish" type="text/css">body  {background-color:#C7EDCC !important;}
div   {background-color:#C7EDCC !important;}
table {background-color:#C7EDCC !important;}
td    {background-color:#C7EDCC !important;}</style></head>
<body onkeydown="if(event.keyCode==27) return false;"><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/o.html" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div>
<div id="append_parent"></div><div id="ajaxwaitid"></div>
<div id="submenu">
	<div class="wrap s_clear">
<div class="pin5i_search">
<script type="text/javascript">
function $(uid){return document.getElementById(uid);}
function searchs_pin5i(){
	var s= $("myselect").value;
         var targeturl = s + encodeURIComponent($('search_q').value);
	window.open(targeturl);
         return false;
}
function searchs_enter(event) {
    if (event.keyCode == 13) {        
	var s= $("myselect").value;
         var targeturl = s + encodeURIComponent($('search_q').value);
	location.href=targeturl;
         return false;
    }
}
</script>
<div><input type="text" id="search_q" class="search_input" onkeydown="return searchs_enter(event);"><select id="myselect" class="search_dropdown"><option value="http://zhannei.baidu.com/cse/search?s=542274512464114670&amp;q=">百度</option><option value="https://www.google.com.hk/#newwindow=1&amp;safe=strict&amp;q=site:pin5i.com+">谷歌</option></select><input type="button" value="搜索" class="search_btn" onclick="return searchs_pin5i();" onkeydown="return searchs_enter(event);"></div>
</div>
	<span class="avataonline right">
		<a href="javascript:void(0);" onclick="pin5i_showloginwin();">[登录]</a>
		<a href="javascript:void(0);" onclick="pin5i_showregistewin();">[注册]</a><span class="pipe">|</span>
        </span>
</div>
</div>
<div id="header">
<div class="pin5i_border">
	<div class="wrap s_clear">
		<h2><a href="http://www.pin5i.com/" title="拼吾爱程序人生"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/logo.png" style="vertical-align:middle;" alt="拼吾爱程序人生" height="70" width="184"></a></h2>
		<div id="ad_headerbanner"><a href="http://www.ibeifeng.com/base.html?from=pin5i_690" target="_blank"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/690-60.jpg" width="690" height="60" alt="北风网"></a></div>
		  <ul id="menu">
			<li class="current" id="menu_100" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/">首页</a></li><li id="menu_41" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/mobile-programming/"><span class="dropmenu">移动编程</span></a></li><li id="menu_43" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/software-programming/"><span class="dropmenu">软件编程</span></a></li><li id="menu_36" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/web-programming/"><span class="dropmenu">Web编程</span></a></li><li id="menu_54" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/database-programming/"><span class="dropmenu">数据库编程</span></a></li><li id="menu_62" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/app-programming/"><span class="dropmenu">编程应用</span></a></li><li id="menu_102" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/#"><span class="dropmenu">开发工具</span></a></li><li id="menu_129" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/credits/"><span style="color:yellow;">购买积分</span></a></li><li id="menu_123" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/vip-resources/"><span class="dropmenu"><span style="color:yellow;">VIP资源</span></span></a></li><li id="menu_125" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/showtopiclist.aspx?type=newtopic"><span style="color:yellow;">最新资源</span></a></li><li id="menu_127" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/showtopic-%E6%B1%82%E4%B9%A6%E4%B8%93%E7%94%A8%E5%B8%96.html"><span style="color:yellow;">我要求书</span></a></li><li id="menu_5" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/tags.aspx">标签</a></li><li id="menu_9" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://www.pin5i.com/help.aspx">帮助</a></li><li id="menu_99" onmouseover="showMenu1(this.id);" onmouseout="showMenuOut();"><a href="http://e.weibo.com/pin5i" target="_blank">官方微博</a></li>
		  </ul>
	</div>
</div>
</div>
<script type="text/javascript">
var templatepath = "default";
var postminchars = parseInt(5);
var postmaxchars = parseInt(4096000);
var disablepostctrl = parseInt(0);
var forumpath = "/";
var attachtransname = "贡献";
function modaction(action, pid, extra) 
{
    if(!action) 
    {
        return;
    }
    var extra = !extra ? '' : '&' + extra;
    var layer = $('postsform').p_layer.value;
    if(!pid && in_array(action, ['delposts', 'banpost'])) 
    {
        var checked = 0;
        var pid = '';
        for(var i = 0; i < $('postsform').elements.length; i++) 
        {
            if($('postsform').elements[i].name.match('topiclist')) 
            {
                checked = 1;
                break;
            }
        }
    } 
    else 
    {
        var checked = 1;
    }
    if(!checked) 
    {
        alert('请选择需要操作的帖子');
    } 
    else 
    {
        floatwinreset = 1;
        $('postsform').action = 'topicadmin.aspx?action='+ action +'&layer='+ layer +'&fid=178&tid=26137&infloat=1&nopost=1' + (!$('postsform').pid.value ? '' : '&postid=' + $('postsform').pid.value) + extra;
        floatwin('open_mods', '', 250, 220);
        $('floatwin_mods').innerHTML = '';
        ajaxpost('postsform', 'floatwin_mods', '');
        if(is_ie) 
        {
            doane(event);
        }
        hideMenu();
    }
}
function modactionbylayer(action, p_layer) 
{
    if(!action) 
    {
        return;
    }
    var extra = !extra ? '' : '&' + extra;
    if(!pid && in_array(action, ['delposts', 'banpost'])) 
    {
        var checked = 0;
        var pid = '';
        for(var i = 0; i < $('postsform').elements.length; i++) 
        {
            if($('postsform').elements[i].name.match('topiclist')) 
            {
                checked = 1;
                break;
            }
        }
    } 
    else 
    {
        var checked = 1;
    }
    if(!checked) 
    {
        alert('请选择需要操作的帖子');
    } 
    else 
    {
        floatwinreset = 1;
        $('postsform').action = 'topicadmin.aspx?action='+ action +'&layer='+ p_layer +'&fid=178&tid=26137&infloat=1&nopost=1' + (!$('postsform').pid.value ? '' : '&postid=' + $('postsform').pid.value) + extra;
        floatwin('open_mods', '', 250, 220);
        $('floatwin_mods').innerHTML = '';
        ajaxpost('postsform', 'floatwin_mods', '');
        if(is_ie) 
        {
            doane(event);
        }
        hideMenu();
    }
}
function pidchecked(obj) 
{
    if(obj.checked) 
    {
        if(is_ie && !is_opera) 
        {
            var inp = document.createElement('<input name="topiclist[]" />');
        } 
        else 
        {
            var inp = document.createElement('input');
            inp.name = 'topiclist[]';
        }
        inp.id = 'topiclist_' + obj.value;
        inp.value = obj.value;
        inp.style.display = 'none';
        $('postsform').appendChild(inp);
    } 
    else
    {
        $('postsform').removeChild($('topiclist_' + obj.value));
    }
}
var modclickcount = 0;
function modclick(obj, pid, p_layer) 
{
    if(obj.checked) 
    {
        modclickcount++;
        if($('postsform').pid.value)
            $('postsform').pid.value += "," + pid;
        else
            $('postsform').pid.value = pid;
    } 
    else 
    {
        modclickcount--;
        if(modclickcount > 0)
        {
            $('postsform').pid.value = $('postsform').pid.value.replace("," + pid + ",", ",");
            $('postsform').pid.value = $('postsform').pid.value.replace("," + pid, "");
            $('postsform').pid.value = $('postsform').pid.value.replace(pid + ",", "");
        }
        else
            $('postsform').pid.value = '';
    }
    $('modcount').innerHTML = modclickcount;
    $('postsform').p_layer.value = p_layer;
    if(modclickcount > 0) 
    {
        var offset = fetchOffset(obj);				
        $('modlayer').style.top = offset['top'] - 65 + 'px';
        $('modlayer').style.left = offset['left'] - 215 + 'px';
        $('modlayer').style.display = '';
    } 
    else 
    {
        $('modlayer').style.display = 'none';
    }
}
function showDiv(popDiv,popIframe,bg){
var isIe=(document.all)?true:false;
if(isIe)
{
document.getElementById(bg).filters.alpha.opacity=0;
}
else
{
document.getElementById(bg).style.opacity=0;
}
document.getElementById(popDiv).style.display='block';
document.getElementById(popIframe).style.display='block';
document.getElementById(bg).style.display='block';
document.getElementById(bg).style.width=document.body.clientWidth;   
document.getElementById(bg).style.height=document.body.clientHeight;
showBackground();
}
function closeDiv(popDiv,popIframe,bg){
document.getElementById(popDiv).style.display='none';
document.getElementById(popIframe).style.display='none';
document.getElementById(bg).style.display='none';
}
</script>
<script type="text/javascript" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/closedtags.txt"></script>
<script type="text/javascript" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/colorfultags.txt"></script>
<script type="text/javascript" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/showtopic.js"></script>
<script type="text/javascript" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/template_share.js"></script>
<script type="text/javascript" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/showDialog.js"></script>
<!--<div><a href="#" title="Merry Christmas" style="text-decoration:none"><img src="/images/pin5i/christmas-headerbg01.png" alt="Merry Christmas" width="960" height="60" /></a></div>-->
<div id="nav">
<div class="pin5i_border">
	<div class="wrap s_clear">
<div style="float:right;"><iframe width="120" height="24" frameborder="0" allowtransparency="true" marginwidth="0" marginheight="0" scrolling="no" border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/followbutton.html"></iframe></div>
		<a id="forumlist" href="http://www.pin5i.com/" class="title">拼吾爱程序人生</a>  » <a href="http://www.pin5i.com/web-programming/">Web编程</a> » <a href="http://www.pin5i.com/aspnet/">Asp.Net</a>
			  » <strong><a href="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生.html">ASP.NET MVC实践系列10-单元测试</a></strong>
	</div>
</div>
</div>
<div class="pin5i_border">
<table class="pin5i_table_ad_728_90" style="width:97%;">
<tbody><tr><td class="pin5i_td_ad_bottom_728_90">
<div id="ad_text" class="ad_text sclear">
	<table cellspacing="1" cellpadding="0" width="100%" summary="text ad">
	<tbody>
		<tr>
			<td width="16.6%"><a href="http://www.cnkuai.cn/domain.htm" target="_blank" title="域名注册,域名申请,域名查询,域名"><font color="red"><b>域名注册</b></font></a></td>
			<td width="16.6%"><a href="http://www.imooc.com/course/list?from=pin5i" target="_blank" title="在线课程"><font color="green"><b>在线课程</b></font></a></td>
			<td width="16.6%"><a href="http://www.cnkuai.cn/host.htm" target="_blank" title="虚拟主机,网站空间,ASP空间,空间"><font color="red"><b>虚拟主机</b></font></a></td>
			<td width="16.6%"><a href="http://www.imooc.com/course/list?from=pin5i" target="_blank" title="免费IT学习"><font color="green"><b>免费IT学习</b></font></a></td>
			<td width="16.6%"><a href="http://www.cnkuai.cn/idc/bgp-vps.htm" target="_blank" title="多线vps,香港vps,双线vps,vps主机"><font color="red"><b>VPS主机</b></font></a></td>
			<td width="16.6%"><a href="http://www.cnkuai.cn/host/hkhost.htm" target="_blank" title="香港空间,香港主机"><font color="red"><b>香港空间</b></font></a></td>
		</tr>
	</tbody>
	</table>
</div>
</td></tr>
</tbody></table>
<div class="wrap s_clear thread" id="wrap">
<div class="main viewthread">
	<div id="forumheader" class="s_clear">
		<h1 id="topicstitle">
			<a href="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生.html">ASP.NET MVC实践系列10-单元测试</a>
		</h1>
		<p class="forumstats">[ <em title="浏览">4971</em> / <em title="下载">0</em> / <em title="回复">1</em> ]</p>
<table><tbody><tr>
<td id="ad_top_728_90">
</td></tr></tbody></table>
	</div>
	<div class="pages_btns">
		<div class="pages">
			<cite class="pageback"><a id="visitedforums" href="http://www.pin5i.com/aspnet/">返回列表</a></cite>
		</div>
<span>
<script type="text/javascript">
/*showtopic_top*/
var cpro_id = "u1100094";
</script>
<script src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/c.js" type="text/javascript"></script><div id="BAIDU_DUP_wrapper_u1100094_0"><iframe width="728" height="15" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ecom.html" align="center,center" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" allowtransparency="true"></iframe></div><script charset="utf-8" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ecom"></script>
</span>
	</div>
	<form id="postsform" name="postsform" method="post" action="http://www.pin5i.com/topicadmin.aspx?action=moderate&forumid=178">
	<input name="forumid" type="hidden" value="178">
	<input name="topicid" type="hidden" value="26137">
	<input name="operat" type="hidden" value="delposts">
	<input name="pid" type="hidden">
	<input name="p_layer" type="hidden" value="1">
	<div id="postsContainer">
	<table id="46647" summary="46647" cellspacing="0" cellpadding="0" class="topic_table">
		<tbody>
		<tr>
		<td class="postauthor" id="46647">
			<!--register user-->
			<cite>
				<span class="onlineno" title="未在线">co****</span>
<a href="http://www.pin5i.com/showtopic.aspx?topicid=26137&forumpage=1&onlyauthor=1" title="只看楼主">[楼主]</a>
			</cite>
			<div id="11_a">
			<div class="avatar">
				<img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/01_avatar_medium.jpg" onerror="this.onerror=null;this.src=&#39;/templates/default/images/noavatar_medium.gif&#39;;" alt="头像" id="memberinfo_1" onmouseover="showauthor(this,11)">
			</div>
				<p><em>striver</em></p>
			</div>
			<p>
			<script type="text/javascript">
				ShowStars(9, 2);
			</script><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/star_level3.gif"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/star_level3.gif"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/star_level1.gif">
			</p>
			<ul class="otherinfo">
				<li><label>组别</label><span style="color:#FF9900"><font color="#FF9900">管理员</font></span></li>
				<li><label>性别</label><script type="text/javascript">document.write(displayGender(0));</script>保密</li>
				<li><label>帖子</label>3637</li>
				<li><label>注册时间</label>
2007-04-09</li>
			</ul>
			<div class="medals"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal1.gif" alt="宣传大使" title="宣传大使"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal4.gif" alt="资源达人" title="资源达人"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal7.gif" alt="社区元老" title="社区元老"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal12.gif" alt="社区创始人" title="社区创始人"></div>
<div style="text-align:center;width:100%;margin-top:5px;padding-top:5px;">
<div id="ad_thread3_1"></div>
<script type="text/javascript">
/*showtopic_left_160_600*/
var cpro_id = "u392988";
</script>
<script src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/c.js" type="text/javascript"></script><div id="BAIDU_DUP_wrapper_u392988_0"><iframe width="160" height="600" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ecom(4).html" align="center,center" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" allowtransparency="true"></iframe></div><script charset="utf-8" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ecom(1)"></script>
</div>
		</td>
		<td class="postcontent" colspan="2">
			<div class="postinfo">
				<em>
[发布日期:
2009-11-26 22:06]
[作者: 
<a href="http://www.cnblogs.com/nuaalfm/" target="_blank" rel="nofollow">你听海是不是在笑</a>
]
</em>
				<em>
				<a href="http://www.pin5i.com/showtopic.aspx?topicid=26137&forumpage=1&onlyauthor=1">[只看楼主]<span style="font-weight:bold;">1楼资源如无效，点此可能有惊喜！</span></a>  
				</em>				
				<span class="right">
					<a href="http://www.pin5i.com/showtopic-26137.html###" class="floor" title="复制帖子链接到剪贴板" onclick="setcopy(window.location.toString().replace(/#(.*?)$/ig, &#39;&#39;) + &#39;#46647&#39;, &#39;已经复制到剪贴板&#39;)">
					楼主
					</a>
				</span>
				<div class="msgfsize right">
					<label style="margin-left:4px;">字体大小: </label>
					<small title="正常" onclick="$(&#39;message46647&#39;).className=&#39;t_msgfont&#39;"><b>t</b></small>
					<big title="放大" onclick="$(&#39;message46647&#39;).className=&#39;t_bigfont&#39;"><b>T</b></big>
				</div>
				<div class="change_topic right">
				</div>
</div>
			
			<div class="postmessage defaultpost">
<div id="topictag"><div class="threadtags"><a href="http://www.pin5i.com/topictag-92.aspx">系列</a>&nbsp;<a href="http://www.pin5i.com/topictag-94.aspx">MVC</a>&nbsp;</div></div>
				    <div id="message46647" class="t_msgfont">
<table><tbody><tr><td>
						    <div id="firstpost">
<div class="content_a">
<div id="ad_thread1_1"></div>
<div style="float:left;margin-right:10px;margin-bottom:10px;">
<a href="http://www.imooc.com/view/219?from=pin5i" target="_blank"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/336-280.gif" width="336" height="280" alt="慕课网，在线课程，免费IT学习"></a>
</div>
<div style="float:right;margin-left:10px;margin-bottom:10px;">
<a href="http://www.ibeifeng.com/base.html?from=pin5i_300" target="_blank"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/300-600.gif" width="300" height="600" alt="北风网"></a>
</div>
<!-- google_ad_section_start -->
上一篇：<a href="http://www.pin5i.com/showtopic-26123.html" target="_blank">ASP.NET <span href="tools/ajax.aspx?t=topicswithsametag&amp;tagid=94" onclick="tagshow(event)" class="t_tag">MVC</span>实践<span href="tools/ajax.aspx?t=topicswithsametag&amp;tagid=92" onclick="tagshow(event)" class="t_tag">系列</span>9-filter原理与实践</a><br><br>最早接触单元<span href="tools/ajax.aspx?t=topicswithsametag&amp;tagid=48" onclick="tagshow(event)" class="t_tag">测试</span>是看了极限编程相关资料里边讲的测试驱动开发，然后下载了Nunit研究了一下，但并没产生多大的触动，因为那个时候做的都是些时间紧任务重的事情，对于单元测试的直接感觉就是有可能比较费时间。直到看了《敏捷软件开发：原则、模式与实践》，里边那个保龄球计分程序很精彩，让我知道了保龄球原来是这么计分的，更重要的是让我认识到测试驱动编程原来这样有意义，并且其实并不浪费时间（至于测试驱动编程到底有意义在哪里，我这里就不说了，大家可以参阅Kent的《测试驱动开发》，Robert C. Martin的《敏捷软件开发：原则、模式与实践》，<a href="http://www.ibm.com/developerworks/cn/linux/l-tdd/" target="_blank" rel="nofollow">浅谈测试驱动开发（TDD）</a>，<a href="http://www.ibm.com/developerworks/cn/java/j-xp042203/" target="_blank" rel="nofollow">揭开极端编程的神秘面纱: 测试驱动的编程</a>等）。在webform中对web层的逻辑很难做单元测试（当然我们可以利用mvp模式（参考：<a href="http://www.cnblogs.com/bluewater/archive/2006/12/11/589214.html#1219888" target="_blank" rel="nofollow">MVP,终于把界面分离出来了</a>）来分解web层逻辑，但因为没有<span href="tools/ajax.aspx?t=topicswithsametag&amp;tagid=105" onclick="tagshow(event)" class="t_tag">框架</span>的支持，并且实现起来也不是很简单，也不是特别好理解，所以应用并不广泛）。ASP.NET MVC很好的解决了测试web逻辑的问题，可测试性也变成了ASP.NET MVC的优势之一。下面我们就来介绍一下如何在ASP.NET MVC中进行单元测试。<br><br><font size="3"><b>一、测试路由器：</b></font><br><br>我们首先利用mvc的<span href="tools/ajax.aspx?t=topicswithsametag&amp;tagid=89" onclick="tagshow(event)" class="t_tag">模板</span>创建一个解决方案，我们可以在Gloabal.asax.cs文件中发现如下代码<br><br>默认路由代码<div class="blockcode"><div id="code46647_-1"><ol><li>public class MvcApplication : System.Web.HttpApplication<br></li>
<li>&nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; public static void RegisterRoutes(RouteCollection routes)<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; routes.IgnoreRoute("{resource}.axd/{*pathInfo}");<br></li>
<li><br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; routes.MapRoute(<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "Default",&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Route name<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "{controller}/{action}/{id}",&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  // URL with parameters<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new { controller = "Home", action = "Index", id = "" }&nbsp; // Parameter defaults<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br></li>
<li><br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br></li>
</ol></div><em onclick="copycode($(&#39;code46647_-1&#39;));">复制代码</em></div>下面我们就为这段代码写一个单元测试（如果对路由还不清楚请参见：<a href="http://www.pin5i.com/showtopic-25960.html" target="_blank">ASP.NET MVC实践系列1-UrlRouting</a>）<br><br>测试代码<div class="blockcode"><div id="code46647_0"><ol><li>1&nbsp; &nbsp; &nbsp; &nbsp;  [TestMethod]<br></li>
<li> 2&nbsp; &nbsp; &nbsp; &nbsp;  public void TestMvcApplicationRoute()<br></li>
<li> 3&nbsp; &nbsp; &nbsp; &nbsp;  {<br></li>
<li> 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  RouteCollection routes = new RouteCollection();<br></li>
<li> 5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  MvcApplication.RegisterRoutes(routes);<br></li>
<li> 6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var httpContextMock = new Mock&lt;HttpContextBase&gt;();<br></li>
<li> 7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  httpContextMock.Setup(c =&gt; c.Request<br></li>
<li> 8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  .AppRelativeCurrentExecutionFilePath).Returns("~/Home/Index");<br></li>
<li> 9 <br></li>
<li>10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  RouteData routeData = routes.GetRouteData(httpContextMock.Object);<br></li>
<li>11 <br></li>
<li>12&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Assert.IsNotNull(routeData, "Should have found the route");<br></li>
<li>13&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Assert.AreEqual("Home", routeData.Values["Controller"]);<br></li>
<li>14&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Assert.AreEqual("Index", routeData.Values["action"]);<br></li>
<li>15&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Assert.AreEqual("", routeData.Values["id"]);<br></li>
<li>16&nbsp; &nbsp; &nbsp; &nbsp;  }<br></li>
</ol></div><em onclick="copycode($(&#39;code46647_0&#39;));">复制代码</em></div>下面我们解释一下上面的代码<div class="blockcode"><div id="code46647_1"><ol><li>RouteCollection routes = new RouteCollection();<br></li>
<li>MvcApplication.RegisterRoutes(routes);<br></li>
</ol></div><em onclick="copycode($(&#39;code46647_1&#39;));">复制代码</em></div>这两行的意思是将routes按照默认路由代码中的格式生成相应的路由。<div class="blockcode"><div id="code46647_2"><ol><li>var httpContextMock = new Mock&lt;HttpContextBase&gt;();<br></li>
<li>httpContextMock.Setup(c =&gt; c.Request.AppRelativeCurrentExecutionFilePath).Returns("~/Home/Index");<br></li>
</ol></div><em onclick="copycode($(&#39;code46647_2&#39;));">复制代码</em></div>这两行的意思是创建一个HttpContextBase的mock类，这里我们使用的是MoQ框架来生成mock类（参见：<a href="http://www.pin5i.com/showtopic-26115.html" target="_blank">MoQ(基于.net3.5,c#3.0的mock框架)简单介绍</a> ）。<div class="blockcode"><div id="code46647_3"><ol><li>RouteData routeData = routes.GetRouteData(httpContextMock.Object);<br></li>
</ol></div><em onclick="copycode($(&#39;code46647_3&#39;));">复制代码</em></div>这行的意思是从routes中获得路由数据，为下边断言路由中的内容作准备。<div class="blockcode"><div id="code46647_4"><ol><li>Assert.AreEqual("Home", routeData.Values["Controller"]);<br></li>
<li>Assert.AreEqual("Index", routeData.Values["action"]);<br></li>
<li>Assert.AreEqual("", routeData.Values["id"]);<br></li>
</ol></div><em onclick="copycode($(&#39;code46647_4&#39;));">复制代码</em></div>这三行分别验证了路由中生成的Controller，action，id的正确性。<br><br><font size="3"><b>二、测试Controller与Action</b></font><br><br>1、测试ViewData<br><br>我们先来看一下ASP.NET MVC的默认模板中的测试代码：<div class="blockcode"><div id="code46647_5"><ol><li>&nbsp;  public ActionResult Index()<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ViewData["Message"] = "Welcome to ASP.NET MVC!";<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return View();<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br></li>
<li><br></li>
<li>//测试代码<br></li>
<li> [TestMethod]<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; public void Index()<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Arrange<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HomeController controller = new HomeController();<br></li>
<li><br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Act<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ViewResult result = controller.Index() as ViewResult;<br></li>
<li><br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Assert<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ViewDataDictionary viewData = result.ViewData;<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Assert.AreEqual("Welcome to ASP.NET MVC!", viewData["Message"]);<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br></li>
</ol></div><em onclick="copycode($(&#39;code46647_5&#39;));">复制代码</em></div>我们可以在测试代码中对viewData的内容进行验证，一般并不推荐使用弱类型的viewData来进行传递数据，下面我们来看一下如何来测试viewModel中的内容。
<!-- google_ad_section_end -->
</div>
						    </div>
			            <script type="text/javascript">function forumhottag_callback(data){ tags = data; }</script>
			            <script type="text/javascript" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/hottags_forum_cache_jsonp.txt"></script>
					            <script type="text/javascript">getTopicTags(26137);</script>
				    
					<!--投票部分-->
					<!--悬赏部分-->
			
<div id="topic_related_bottom">
<div id="ad_bottom_baidu"></div>
<table><tbody><tr>
<td>
<div id="ad_thread2_1"></div>
</td></tr>
<tr><td>
<table style="margin-bottom:10px;margin-left:-2px;width:680px;border:0px;" id="ggad_bottom">
<tbody><tr><td id="ggad_bottom_left" style="width:340px;padding-top:10px;border-top:1px #E0E0E0 solid">
<script type="text/javascript">
/*showtopic_336_280_bot_l*/
var cpro_id = "u983389";
</script>
<script src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/c.js" type="text/javascript"></script><div id="BAIDU_DUP_wrapper_u983389_0"><iframe width="336" height="280" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ecom(3).html" align="center,center" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" allowtransparency="true"></iframe></div><script charset="utf-8" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/ecom(2)"></script>
</td>
<td id="ggad_bottom_right" style="width:340px;padding-top:10px;border-top:1px #E0E0E0 solid">
<script async="" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/adsbygoogle.js"></script>
<!-- 336x280, 创建于 12-07-11 -->
<ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-4542144052749647" data-ad-slot="8956272975" data-adsbygoogle-status="done"><ins style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:336px;background-color:transparent"><iframe width="336" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</td>
</tr>
<tr><td colspan="2" style="width:680px;padding-top:10px;">
<script src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/cfcoda.js" language="javascript"></script>
<link rel="stylesheet" href="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/topichot1.css" type="text/css">
<div id="toolbarwrap">
	<ul id="toolbar" class="navigation">
		<span id="home-tab"><a href="http://www.pin5i.com/showtopic-26137.html#" onmouseover="javascript:ScrollSection(&#39;home-pane&#39;, &#39;scroller&#39;, &#39;home-pane&#39;); return false">本版最新发布</a></span>
		<span id="about-tab"><a href="http://www.pin5i.com/showtopic-26137.html#" onmouseover="javascript:ScrollSection(&#39;about-pane&#39;, &#39;scroller&#39;, &#39;home-pane&#39;); return false">本版最后下载</a></span>
	</ul>
</div>
<div id="frame">
	<div id="scroller">
		<div id="content">
			<div class="section" id="home-pane">
			<table class="related_table"><tbody><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="MVC4+EF5+EasyUI技术实现通用权限管理系统(EpPlus、HignCharts、Reportviewer报表）视频教程                                                       " href="http://www.pin5i.com/showtopic-mvc4-ef5-easyui%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E9%80%9A%E7%94%A8%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-epplus-higncharts-reportviewer%E6%8A%A5%E8%A1%A8-%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B.html">MVC4+EF5+EasyUI技术实现通用权限管理系统(EpPlus、HignCharts、Reportviewer报表）视频教程                                                       </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Expert ASP.NET Web API 2 for MVC Developers                                                                             " href="http://www.pin5i.com/showtopic-expert-asp-net-web-api-2-mvc-developers.html">Expert ASP.NET Web API 2 for MVC Developers                                                                             </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title=".NET软件工程师专业高端网络在线培训就业课程(周末上课，在线教学，异地学习，上海就业)                                                                            " href="http://www.pin5i.com/showtopic-net%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88%E4%B8%93%E4%B8%9A%E9%AB%98%E7%AB%AF%E7%BD%91%E7%BB%9C%E5%9C%A8%E7%BA%BF%E5%9F%B9%E8%AE%AD%E5%B0%B1%E4%B8%9A%E8%AF%BE%E7%A8%8B-%E5%91%A8%E6%9C%AB%E4%B8%8A%E8%AF%BE-%E5%9C%A8%E7%BA%BF%E6%95%99%E5%AD%A6-%E5%BC%82%E5%9C%B0%E5%AD%A6%E4%B9%A0-%E4%B8%8A%E6%B5%B7%E5%B0%B1%E4%B8%9A.html">.NET软件工程师专业高端网络在线培训就业课程(周末上课，在线教学，异地学习，上海就业)                                                                            </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="ASP.NET Web API 2 Recipes: A Problem-Solution Approach                                                                  " href="http://www.pin5i.com/showtopic-asp-net-web-api-recipes-problem-solution-approach.html">ASP.NET Web API 2 Recipes: A Problem-Solution Approach                                                                  </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Hands on with ASP.NET MVC - Covering MVC 6                                                                              " href="http://www.pin5i.com/showtopic-hands-asp-net-mvc-covering-6.html">Hands on with ASP.NET MVC - Covering MVC 6                                                                              </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="ASP.NET Web API 2: Building a REST Service from Start to Finish                                                         " href="http://www.pin5i.com/showtopic-asp-net-web-api-2-building-rest-service-start-finish.html">ASP.NET Web API 2: Building a REST Service from Start to Finish                                                         </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Professional ASP.NET MVC 5                                                                                              " href="http://www.pin5i.com/showtopic-professional-asp-net-mvc-5.html">Professional ASP.NET MVC 5                                                                                              </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Pro Single Page Application Development: Using Backbone.js and ASP.NET                                                  " href="http://www.pin5i.com/showtopic-pro-single-page-application-development.html">Pro Single Page Application Development: Using Backbone.js and ASP.NET                                                  </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="求 精通asp.net mvc3框架 中文 电子版                                                                                               " href="http://www.pin5i.com/showtopic-%E6%B1%82-%E7%B2%BE%E9%80%9Aasp-net-mvc3%E6%A1%86%E6%9E%B6-%E4%B8%AD%E6%96%87-%E7%94%B5%E5%AD%90%E7%89%88.html">求 精通asp.net mvc3框架 中文 电子版                                                                                               </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Pro ASP.NET MVC 5 Platform                                                                                              " href="http://www.pin5i.com/showtopic-pro-asp-net-mvc-5-platform.html">Pro ASP.NET MVC 5 Platform                                                                                              </a></td></tr></tbody></table>
			</div>
			<div class="section" id="about-pane">
			<table class="related_table"><tbody><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="BEGINNING ASP.NET 4.5.1: IN C# AND VB                                                                                   " href="http://www.pin5i.com/showtopic-beginning-asp-net-4-5-1-in-c-and-vb.html">BEGINNING ASP.NET 4.5.1: IN C# AND VB                                                                                   </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="MVC4+EF5+EasyUI技术实现通用权限管理系统(EpPlus、HignCharts、Reportviewer报表）视频教程                                                       " href="http://www.pin5i.com/showtopic-mvc4-ef5-easyui%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0%E9%80%9A%E7%94%A8%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-epplus-higncharts-reportviewer%E6%8A%A5%E8%A1%A8-%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B.html">MVC4+EF5+EasyUI技术实现通用权限管理系统(EpPlus、HignCharts、Reportviewer报表）视频教程                                                       </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Expert ASP.NET Web API 2 for MVC Developers                                                                             " href="http://www.pin5i.com/showtopic-expert-asp-net-web-api-2-mvc-developers.html">Expert ASP.NET Web API 2 for MVC Developers                                                                             </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Hands on with ASP.NET MVC - Covering MVC 6                                                                              " href="http://www.pin5i.com/showtopic-hands-asp-net-mvc-covering-6.html">Hands on with ASP.NET MVC - Covering MVC 6                                                                              </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Professional ASP.NET MVC 5                                                                                              " href="http://www.pin5i.com/showtopic-professional-asp-net-mvc-5.html">Professional ASP.NET MVC 5                                                                                              </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="圣殿祭司的ASP.NET 4.0专家技术手册                                                                                                  " href="http://www.pin5i.com/showtopic-%E5%9C%A3%E6%AE%BF%E7%A5%AD%E5%8F%B8%E7%9A%84asp-net-4-0%E4%B8%93%E5%AE%B6%E6%8A%80%E6%9C%AF%E6%89%8B%E5%86%8C.html">圣殿祭司的ASP.NET 4.0专家技术手册                                                                                                  </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Murach&#39;s ASP.NET 4.5 Web Programming with C# 2012, 5th Edition                                                          " href="http://www.pin5i.com/showtopic-murach-s-asp-net-4-5-web-programming-with-c-2012-5th-edition.html">Murach's ASP.NET 4.5 Web Programming with C# 2012, 5th Edition                                                          </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="【分享】最新12本清华畅销IT图书                                                                                                       " href="http://www.pin5i.com/showtopic-31053.html">【分享】最新12本清华畅销IT图书                                                                                                       </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="Asp.Net Ajax 框架及应用详解                                                                                                    " href="http://www.pin5i.com/showtopic-25327.html">Asp.Net Ajax 框架及应用详解                                                                                                    </a></td></tr><tr><td nowrap="" class="pin5i_td"><a target="_blank" title="ASP.NET Web API 2: Building a REST Service from Start to Finish                                                         " href="http://www.pin5i.com/showtopic-asp-net-web-api-2-building-rest-service-start-finish.html">ASP.NET Web API 2: Building a REST Service from Start to Finish                                                         </a></td></tr></tbody></table>
			</div>
		</div>
	</div>
</div>
</td></tr>
</tbody></table>
</td></tr>
</tbody></table>
</div>
</td>
</tr>
</tbody></table>
<div style="border-top:1px #E0E0E0 solid" "="">
</div>
		</div></div></td>
	</tr>
	</tbody>
	<tbody>
	<tr>
                <td class="postauthor"></td>
		<td class="postcontent postactions" colspan="2">
			<em>
			</em>
			<a href="http://www.pin5i.com/showtopic-26137.html#" onclick="window.scrollTo(0,0)">TOP</a>
		</td>
	</tr>
	</tbody>
	<tbody>
	<tr class="threadad">
		<td class="postauthor"></td>
		<td class="adcontent" colspan="2">
		</td>
	</tr>
	</tbody>
	</table>
	<table id="46648" summary="46648" cellspacing="0" cellpadding="0" class="topic_table">
		<tbody>
		<tr>
		<td class="postauthor" id="46648">
			<a name="lastpost"></a>
			<!--register user-->
			<cite>
				<span class="onlineno" title="未在线">co****</span>
<a href="http://www.pin5i.com/showtopic.aspx?topicid=26137&forumpage=1&onlyauthor=1" title="只看楼主">[楼主]</a>
			</cite>
			<div id="12_a">
			<div class="avatar">
				<img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/01_avatar_medium.jpg" onerror="this.onerror=null;this.src=&#39;/templates/default/images/noavatar_medium.gif&#39;;" alt="头像" id="memberinfo_2" onmouseover="showauthor(this,12)">
			</div>
				<p><em>striver</em></p>
			</div>
			<p>
			<script type="text/javascript">
				ShowStars(9, 2);
			</script><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/star_level3.gif"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/star_level3.gif"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/star_level1.gif">
			</p>
			<ul class="otherinfo">
				<li><label>组别</label><span style="color:#FF9900"><font color="#FF9900">管理员</font></span></li>
				<li><label>性别</label><script type="text/javascript">document.write(displayGender(0));</script>保密</li>
				<li><label>帖子</label>3637</li>
				<li><label>注册时间</label>
2007-04-09</li>
			</ul>
			<div class="medals"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal1.gif" alt="宣传大使" title="宣传大使"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal4.gif" alt="资源达人" title="资源达人"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal7.gif" alt="社区元老" title="社区元老"><img border="0" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/Medal12.gif" alt="社区创始人" title="社区创始人"></div>
		</td>
		<td class="postcontent" colspan="2">
			<div class="postinfo">
				<em>
[发布日期:
2009-11-26 22:07]
</em>
				<em>
				<a href="http://www.pin5i.com/showtopic.aspx?topicid=26137&forumpage=1&onlyauthor=1">[只看楼主]<span style="font-weight:bold;">1楼资源如无效，点此可能有惊喜！</span></a>  
				</em>				
				<span class="right">
					<a href="http://www.pin5i.com/showtopic-26137.html###" class="floor" title="复制帖子链接到剪贴板" onclick="setcopy(window.location.toString().replace(/#(.*?)$/ig, &#39;&#39;) + &#39;#46648&#39;, &#39;已经复制到剪贴板&#39;)">
					真皮沙发
					</a>
				</span>
				<div class="msgfsize right">
					<label style="margin-left:4px;">字体大小: </label>
					<small title="正常" onclick="$(&#39;message46648&#39;).className=&#39;t_msgfont&#39;"><b>t</b></small>
					<big title="放大" onclick="$(&#39;message46648&#39;).className=&#39;t_bigfont&#39;"><b>T</b></big>
				</div>
				<div class="change_topic right">
				</div>
</div>
			
			<div class="postmessage defaultpost">
<h2></h2>
<div id="topictag"></div>
				    <div id="message46648" class="t_msgfont">
<table><tbody><tr><td>
<div class="content_a">
<div class="blockcode"><div id="code46648_-1"><ol><li>public ActionResult About()<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; News news = new News() { ID = 1, Author = "lfm" };<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return View(news);<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br></li>
</ol></div><em onclick="copycode($(&#39;code46648_-1&#39;));">复制代码</em></div>测试代码<div class="blockcode"><div id="code46648_0"><ol><li>[TestMethod]<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; public void About()<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Arrange<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HomeController controller = new HomeController();<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Act<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ViewResult result = controller.About() as ViewResult;<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Assert.AreEqual(1, ((News)result.ViewData.Model).ID);<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Assert<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Assert.IsNotNull(result);<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br></li>
</ol></div><em onclick="copycode($(&#39;code46648_0&#39;));">复制代码</em></div>2、测试RedirectToAction：<div class="blockcode"><div id="code46648_1"><ol><li>public ActionResult TestRedirectToAction()<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return RedirectToAction("Index");<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br></li>
<li><br></li>
<li>//测试代码<br></li>
<li><br></li>
<li>[TestMethod]<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; public void TestRedirectToAction()<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; {<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Arrange<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HomeController controller = new HomeController();<br></li>
<li><br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Act<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var result = controller.TestRedirectToAction() as RedirectToRouteResult; ;<br></li>
<li><br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Assert<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Assert.IsNotNull(result);<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Assert.AreEqual("Index", result.RouteValues["action"]);<br></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; }<br></li>
</ol></div><em onclick="copycode($(&#39;code46648_1&#39;));">复制代码</em></div><font size="3"><b>三、测试View Helpers</b><br></font><br>我们常常会把一些牵扯到逻辑的View代码写到Helper中，所以测试Helper非常有意义，我们先写一个简单的Helper<br><br>Helper<div class="blockcode"><div id="code46648_2"><ol><li>1 using System;<br></li>
<li> 2 using System.Collections.Generic;<br></li>
<li> 3 using System.Web.Mvc;<br></li>
<li> 4 public static class MyHelpers<br></li>
<li> 5 {<br></li>
<li> 6&nbsp; &nbsp;  public static string UnorderedList&lt;T&gt;(this HtmlHelper html, IEnumerable&lt;T&gt; items)<br></li>
<li> 7&nbsp; &nbsp;  {<br></li>
<li> 8&nbsp; &nbsp; &nbsp; &nbsp;  if (html == null)<br></li>
<li> 9&nbsp; &nbsp; &nbsp; &nbsp;  {<br></li>
<li>10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  throw new ArgumentNullException("html");<br></li>
<li>11&nbsp; &nbsp; &nbsp; &nbsp;  }<br></li>
<li>12&nbsp; &nbsp; &nbsp; &nbsp;  string ul = "&lt;ul&gt;";<br></li>
<li>13&nbsp; &nbsp; &nbsp; &nbsp;  foreach (var item in items)<br></li>
<li>14&nbsp; &nbsp; &nbsp; &nbsp;  {<br></li>
<li>15&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ul += "&lt;li&gt;" + html.Encode(item.ToString()) + "&lt;/li&gt;";<br></li>
<li>16&nbsp; &nbsp; &nbsp; &nbsp;  }<br></li>
<li>17&nbsp; &nbsp; &nbsp; &nbsp;  return ul + "&lt;/ul&gt;";<br></li>
<li>18&nbsp; &nbsp;  }<br></li>
<li>19 }<br></li>
</ol></div><em onclick="copycode($(&#39;code46648_2&#39;));">复制代码</em></div>这个Helper的完成的工作是将输入的集合数据分解然后按列表输出。<br><br>测试代码<div class="blockcode"><div id="code46648_3"><ol><li>1 [TestMethod]<br></li>
<li> 2&nbsp; &nbsp; &nbsp; &nbsp;  public void TestHelp()<br></li>
<li> 3&nbsp; &nbsp; &nbsp; &nbsp;  {<br></li>
<li> 4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var contextMock = new Mock&lt;HttpContextBase&gt;();<br></li>
<li> 5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var controllerMock = new Mock&lt;ControllerBase&gt;();<br></li>
<li> 6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var view = new Mock&lt;IView&gt;();<br></li>
<li> 7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var cc = new ControllerContext(contextMock.Object, new RouteData(), controllerMock.Object);<br></li>
<li> 8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var viewContext = new ViewContext(cc, view.Object, new ViewDataDictionary(), new TempDataDictionary());<br></li>
<li> 9&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var vdcMock = new Mock&lt;IViewDataContainer&gt;();<br></li>
<li>10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  var helper = new HtmlHelper(viewContext, vdcMock.Object);<br></li>
<li>11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  string output = helper.UnorderedList(new int[] { 0, 1, 2 });<br></li>
<li>12&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Assert.AreEqual("&lt;ul&gt;&lt;li&gt;0&lt;/li&gt;&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;/ul&gt;", output);<br></li>
<li>13&nbsp; &nbsp; &nbsp; &nbsp;  }<br></li>
</ol></div><em onclick="copycode($(&#39;code46648_3&#39;));">复制代码</em></div>4-9行都是为实例化HtmlHelper做准备的。<br><br><font size="3"><b>四、参考</b></font><br><br>《<a href="http://www.pin5i.com/showtopic-24257.html" target="_blank">Professional ASP.NET MVC 1.0</a>》<br>《<a href="http://www.pin5i.com/showtopic-25121.html" target="_blank">Pro ASP.NET MVC Framework</a>》<br><a href="http://msdn.microsoft.com/en-us/magazine/dd942838.aspx" target="_blank" rel="nofollow">Unit Testing ASP.NET MVC</a><br><a href="http://www.henrycordes.nl/post/2008/02/MVC-Framework-and-Unit-Test.aspx" target="_blank" rel="nofollow">Unit test controller in MVC Framework</a><br><a href="http://srtsolutions.com/blogs/patricksteele/archive/2009/08/23/asp-net-mvc-mvc-contrib-unit-testing.aspx" target="_blank" rel="nofollow">ASP.NET MVC + MVC Contrib + Unit Testing</a><br><a href="http://weblogs.asp.net/leftslipper/archive/2008/04/13/mvc-unit-testing-controller-actions-that-use-tempdata.aspx" target="_blank" rel="nofollow">MVC: Unit testing controller actions that use TempData</a>
</div>
				    
			
<div id="topic_related_bottom">
<div id="ad_bottom_baidu"></div>
<table><tbody><tr>
<td>
<div id="ad_thread2_2"></div>
</td></tr>

</tbody></table>
</div>
</td>
</tr>
</tbody></table>
<div style="border-top:1px #E0E0E0 solid" "="">
</div>
		</div></div></td>
	</tr>
	</tbody>
	<tbody>
	<tr>
                <td class="postauthor"></td>
		<td class="postcontent postactions" colspan="2">
			<em>
			</em>
			<a href="http://www.pin5i.com/showtopic-26137.html#" onclick="window.scrollTo(0,0)">TOP</a>
		</td>
	</tr>
	</tbody>
	<tbody>
	<tr class="threadad">
		<td class="postauthor"></td>
		<td class="adcontent" colspan="2">
		</td>
	</tr>
	</tbody>
	</table>
	</div>
	</form>
	<!--ntforumbox end-->
	<div class="forumcontrol s_clear">
	<table cellspacing="0" cellpadding="0" class="narrow">
		<tbody>
		<tr>
		<td class="modaction">
		</td>
		<td>
			<div class="pages_btns">
				<div class="pages">
					<cite class="pageback"><a id="visitedforums" href="http://www.pin5i.com/aspnet/">返回列表</a></cite>
				</div>
			</div>
		</td>
		</tr>
		</tbody>
	</table>
	</div>
</div>
	<ul class="popupmenu_popup newspecialmenu" id="newspecial_menu" style="display: none">
		<li><a href="http://www.pin5i.com/posttopic.aspx?forumid=178&forumpage=1">发布资源</a></li>
	</ul>
</div>
<script type="text/javascript">
var maxpage = parseInt('1');
var pageid = parseInt('1');
if(maxpage > 1) {
	document.onkeyup = function(e){
		e = e ? e : window.event;
		var tagname = is_ie ? e.srcElement.tagName : e.target.tagName;
		if(tagname == 'INPUT' || tagname == 'TEXTAREA') return;
		actualCode = e.keyCode ? e.keyCode : e.charCode;
		if (pageid < maxpage && actualCode == 39) {
		    window.location = 'showtopic-26137-2.html';
		}
		if (pageid > 1 && actualCode == 37) {
		    window.location = 'showtopic-26137.html';
		}
	}
}
</script>

<div id="bg" class="bg" style="display:none;"></div><iframe id="popIframe" class="popIframe" frameborder="0"></iframe>
<div class="pin5i_border" style="margin-top:5px;">
<div id="footer">
	<div class="wrap">
		<div id="footlinks">
			<p>
&nbsp;<a href="http://www.pin5i.com/sitemap.xml" target="_blank">Sitemap</a>
			- 鄂ICP备07500843号
			</p>
			<div>
				建议1280以上宽屏+非IE核心浏览器以获得最佳体验！ - <a href="http://www.pin5i.com/link.html">友情链接</a> - <a href="mailto:admin@pin5i.com">联系我们</a> - <a href="http://www.pin5i.com/mobile/index.aspx" target="_blank">手机版本</a>
				- <span class="scrolltop" onclick="window.scrollTo(0,0);">TOP</span>
			</div>
		</div>
		<a title="PIN5I-PROGRAMMING-LIFE" target="_blank" href="http://www.pin5i.com/"><img border="0" alt="PIN5I-PROGRAMMING-LIFE" src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/pin5i_logo.png" width="32" height="32"></a>
		<p>
                                Powered by <a href="http://nt.discuz.net/" target="_blank" title="Discuz!NT 3.0.0 (.NET Framework 2.0/3.x)">Discuz!NT</a> 3.0.0
				CopyRight © 2007-2014 <a href="http://www.pin5i.com/" target="_blank">拼吾爱程序人生</a>
		</p>
		<p id="debuginfo" class="grayfont">
			Processed in 0 s
				(Cached).
		</p>
	</div>
</div>
<ul id="quicksearch_menu" class="popupmenu_popup" style="display: none;">
	<li onclick="document.getElementById(&#39;keywordtype&#39;).value=&#39;0&#39;;document.getElementById(&#39;quicksearch&#39;).innerHTML=&#39;帖子标题&#39;;document.getElementById(&#39;quicksearch_menu&#39;).style.display=&#39;none&#39;;" onmouseover="MouseCursor(this);">帖子标题</li>
	<li onclick="document.getElementById(&#39;keywordtype&#39;).value=&#39;8&#39;;document.getElementById(&#39;quicksearch&#39;).innerHTML=&#39;作者&#39;;document.getElementById(&#39;quicksearch_menu&#39;).style.display=&#39;none&#39;;" onmouseover="MouseCursor(this);">作者</li>
</ul>
<ul class="popupmenu_popup" id="viewpro_menu" style="display: none">
	<li style="text-align:center;"><img src="./ASP.NET MVC实践系列10-单元测试 - Asp.Net - 拼吾爱程序人生_files/noavatar_small.gif" onerror="this.onerror=null;this.src=&#39;templates/default/images/noavatar_small.gif&#39;;"></li>
	<li class="popuser"><a href="http://www.pin5i.com/userinfo--1.html">我的资料</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_0_menu" style="display: none">
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_4_menu" style="display: none">
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_6_menu" style="display: none">
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_36_menu" style="display: none">
    <li><a href="http://www.pin5i.com/jquery/">jQuery</a></li>
    <li><a href="http://www.pin5i.com/extjs/">ExtJS</a></li>
    <li><a href="http://www.pin5i.com/ajax/">Ajax</a></li>
    <li><a href="http://www.pin5i.com/js/">JavaScript</a></li>
    <li><a href="http://www.pin5i.com/aspnet/">Asp.Net</a></li>
    <li><a href="http://www.pin5i.com/silverlight/">Silverlight</a></li>
    <li><a href="http://www.pin5i.com/flash-flex/">Flash Flex</a></li>
    <li><a href="http://www.pin5i.com/Web">Web</a></li>
    <li><a href="http://www.pin5i.com/html5/">HTML5</a></li>
    <li><a href="http://www.pin5i.com/php/">PHP</a></li>
    <li><a href="http://www.pin5i.com/web-service/">Web Service</a></li>
    <li><a href="http://www.pin5i.com/xml/">XML</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_41_menu" style="display: none">
    <li><a href="http://www.pin5i.com/Android/">Android</a></li>
    <li><a href="http://www.pin5i.com/symbian/">Symbian</a></li>
    <li><a href="http://www.pin5i.com/iphone/">iPhone</a></li>
    <li><a href="http://www.pin5i.com/windows-phone/">WP</a></li>
    <li><a href="http://www.pin5i.com/BlackBerry/">BlackBerry</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_43_menu" style="display: none">
    <li><a href="http://www.pin5i.com/csharp/">C#</a></li>
    <li><a href="http://www.pin5i.com/wcf/">WCF</a></li>
    <li><a href="http://www.pin5i.com/wpf/">WPF</a></li>
    <li><a href="http://www.pin5i.com/wf/">WF</a></li>
    <li><a href="http://www.pin5i.com/linq/">Linq</a></li>
    <li><a href="http://www.pin5i.com/adonet/">ADO.Net</a></li>
    <li><a href="http://www.pin5i.com/fsharp/">F#</a></li>
    <li><a href="http://www.pin5i.com/visual-studio-net/">Visual Studio</a></li>
    <li><a href="http://www.pin5i.com/java/">Java</a></li>
    <li><a href="http://www.pin5i.com/c/">C-C++</a></li>
    <li><a href="http://www.pin5i.com/ruby/">Ruby</a></li>
    <li><a href="http://www.pin5i.com/python/">Python</a></li>
    <li><a href="http://www.pin5i.com/perl/">Perl</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_54_menu" style="display: none">
    <li><a href="http://www.pin5i.com/sqlserver/">SQL Server</a></li>
    <li><a href="http://www.pin5i.com/oracle/">Oracle</a></li>
    <li><a href="http://www.pin5i.com/mysql/">MySQL</a></li>
    <li><a href="http://www.pin5i.com/db2/">DB2</a></li>
    <li><a href="http://www.pin5i.com/nosql/">NoSQL</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_62_menu" style="display: none">
    <li><a href="http://www.pin5i.com/application-system/">应用系统</a></li>
    <li><a href="http://www.pin5i.com/frame-design/">框架设计</a></li>
    <li><a href="http://www.pin5i.com/seo-programme/">SEO编程</a></li>
    <li><a href="http://www.pin5i.com/software-test/">软件测试</a></li>
    <li><a href="http://www.pin5i.com/it-magazine/">IT杂志</a></li>
    <li><a href="http://www.pin5i.com/arithmetic/">算法解析</a></li>
    <li><a href="http://www.pin5i.com/regular-expression/">正则表达式</a></li>
    <li><a href="http://www.pin5i.com/game-programming/">游戏编程</a></li>
    <li><a href="http://www.pin5i.com/unix-linux/">Unix-Linux</a></li>
    <li><a href="http://www.pin5i.com/life/">人生感悟</a></li>
    <li><a href="http://www.pin5i.com/programming-skills/">编程技巧</a></li>
    <li><a href="http://www.pin5i.com/software-engineering/">软件工程</a></li>
    <li><a href="http://www.pin5i.com/computer-principles/">电脑原理</a></li>
    <li><a href="http://www.pin5i.com/hackers/">黑客帝国</a></li>
    <li><a href="http://www.pin5i.com/certification-study/">学习认证</a></li>
    <li><a href="http://www.pin5i.com/classification/">分类编程</a></li>
    <li><a href="http://www.pin5i.com/cloud/">云计算</a></li>
    <li><a href="http://www.pin5i.com/big-data/">大数据</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_102_menu" style="display: none">
    <li><a href="http://passcheck.pin5i.com/" target="_blank">密码在线检测</a></li>
    <li><a href="http://jspacker.pin5i.com/" target="_blank">JS压缩工具</a></li>
    <li><a href="http://rgb.pin5i.com/" target="_blank">颜色生成器</a></li>
    <li><a href="http://css3.pin5i.com/" target="_blank">CSS3生成器</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu_123_menu" style="display: none">
    <li><a href="http://www.pin5i.com/vip-ebooks/">电子书</a></li>
    <li><a href="http://www.pin5i.com/vip-video/">视频光盘</a></li>
    <li><a href="http://www.pin5i.com/vip-code/">源码教程</a></li>
    <li><a href="http://www.pin5i.com/virtual-goods/">虚拟商品</a></li>
</ul>
<ul class="popupmenu_popup headermenu_popup" id="menu__menu" style="display: none">
</ul>
<div id="ad_headerbanner_top" style="display:none"></div>
<script type="text/javascript">
function chkdiv(divid){
var chkid=document.getElementById(divid);
if(chkid != null)
{return true; }
else
{return false; }
}
if (chkdiv('ad_headerbanner')) {
document.getElementById('ad_headerbanner').innerHTML= document.getElementById('ad_headerbanner_top').innerHTML;
document.getElementById('ad_headerbanner_top').innerHTML="";
}
</script>

</div>


</div></body></html>